<?php 

// Gist updated to use code from Genesis Framework 2.4.2
//remove initial header functions
remove_action( 'genesis_header', 'genesis_header_markup_open', 5 );
remove_action( 'genesis_header', 'genesis_header_markup_close', 15 );
remove_action( 'genesis_header', 'genesis_do_header' );
//add in the new header markup - prefix the function name - here sm_ is used
add_action( 'genesis_header', 'sm_genesis_header_markup_open', 5 );
add_action( 'genesis_header', 'sm_genesis_header_markup_close', 15 );
add_action( 'genesis_header', 'sm_genesis_do_header' );

//New Header functions
function sm_genesis_header_markup_open() {
 genesis_markup( array(
 'html5' => '<header %s>',
 'context' => 'site-header',
 ) );
 /* Added in content
 echo '<div class="header-ghost"></div>';
 */
 genesis_structural_wrap( 'header' );
}
function sm_genesis_header_markup_close() {
 genesis_structural_wrap( 'header', 'close' );
 genesis_markup( array(
 'close' => '</header>',
 'context' => 'site-header',
 ) );
}

function sm_genesis_do_header() {
 global $wp_registered_sidebars;
 genesis_markup( array(
 'open' => '<div %s>',
 'context' => 'title-area',
 ) );
 // Added in content
 // Add your own svg log. Change viewbox values, path content and title. Remember to update style sheet to your logo.

echo '<div class="site-id">';
  

 echo '<a class="site-logo" href="' . esc_url( home_url( '/' ) ) . '">
        <svg id="logo" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 62">
          <title>The Bushpilots</title>
          <g id="logotype">
          <path class="st0" d="M505.5,11c0.2-2.7,0.4-5.3,0.7-8c0.2-2.2,0.2-2.2,2.4-2.2c15,0,30.1,0,45.1,0c2.7,0,2.7,0,2.7,2.6
          c0,3.5,0,7.1,0,10.6c0,1.9,0,2-2,2c-4.4,0-8.8,0-13.2,0c-0.7,0-1.4,0-2.3,0c0,0.6,0,1.1,0,1.6c0,14,0,28.1,0,42.1
          c0,1.8-0.1,1.9-1.8,1.9c-5.6,0-11.1,0-16.7,0c-1.7,0-1.8-0.1-1.8-1.8c0-3.6,0-7.3,0-10.9c0-2.2,0-2.2,2.2-2.2c0.2,0,0.4,0,0.8-0.1
          c0-10.4,0-20.8,0-31.3c-4.9,0-9.8,0-14.5,0c0,2.3,0,4.6,0,6.9c0.2,9-1.1,17.9-1.7,26.8c-0.5,6.2-4.5,8.7-9.6,10.1
          c-5.6,1.6-11.4,1.6-17.2,1.8c-6,0.2-11-2.1-15.6-5.5c-0.5-0.3-0.8-0.9-1.1-1.4c-1.9-4.1-2.6-8.5-3.1-12.9c-0.8-8-1.1-16.1-0.6-24.1
          c0.1-1.6,0.8-3.2,1.5-4.6c2.2-4.1,5.2-7.5,9.4-9.6c2.9-1.5,6.2-1.8,9.4-2c4.2-0.2,8.5-0.3,12.7-0.1c6.4,0.3,10.9,3.8,13.7,9.4
          c0.1,0.3,0.3,0.6,0.4,0.9C505.2,10.9,505.3,10.9,505.5,11z M476.5,38.4C476.5,38.4,476.5,38.4,476.5,38.4c0,0.6,0,1.2,0,1.8
          c0.2,3.3,2.7,6,5.6,5.9c4.6-0.1,6-1.7,6.1-6.2c0-3.8,0.1-7.5,0.2-11.3c0-2.6,0.3-5.3,0-7.8c-0.6-4.7-2.4-5.9-5.8-5.6
          c-0.3,0-0.6,0-0.8,0c-2.9,0-4.9,1.4-5.4,4.3c-0.4,2.2-0.6,4.6-0.5,6.8C475.9,30.3,476.2,34.3,476.5,38.4z M193.6,28.7
          c3.6,1.9,5.1,4.9,5.4,8.5c0.4,3.5,0.8,7.1,0.3,10.6c-0.8,6.7-5.8,11.2-12.8,12.6c-0.9,0.2-1.9,0.3-2.9,0.3c-8.3,0-16.7,0-25,0
          c-1.8,0-1.9-0.1-1.9-1.9c0-14.2,0-28.3,0-42.5c0-0.6,0-1.3,0-2.1c-1,0-1.8,0-2.6,0c-0.9,0-1.3-0.4-1.3-1.3c0-3.6,0-7.2,0-10.8
          c0-1.3,0.7-1.4,1.7-1.4c8.2,0,16.5,0,24.7,0c2.7,0,5.5,0.1,8.1,0.7c6.7,1.6,10.8,7.7,10.5,15.1C197.8,21.1,196.5,25.1,193.6,28.7z
          M172.8,36.4c0,2.7,0,5.3,0,7.9c0,0.4,0,0.7,0.1,1.3c1.3,0,2.5,0.1,3.7,0c4-0.2,5.7-2.3,5-6.3c-0.3-1.8-1.2-2.7-3-2.8
          C176.8,36.4,174.9,36.4,172.8,36.4z M172.8,22.9c1.1,0,2,0,2.9,0c4.2-0.2,5.8-2.3,4.8-6.4c-0.3-1.1-0.9-1.9-2-2
          c-1.9-0.1-3.8,0-5.7,0C172.8,17.3,172.8,20,172.8,22.9z M313.3,20c0-5.8,0-11.6,0-17.4c0-1-0.1-1.8-1.4-1.8c-6.1,0-12.2,0-18.4,0
          c-1,0-1.4,0.4-1.4,1.4c0,3.8,0,7.5,0,11.3c0,1,0.4,1.4,1.4,1.4c1.2,0,2.5,0,3.8,0c0,0.8,0,1.5,0,2.1c0,13.9,0,27.9,0,41.8
          c0,1.8,0.1,1.9,1.9,1.9c4,0,8,0,12,0c2,0,2.1-0.1,2.1-2.1c0-6.5,0-13,0-19.5c0-0.5,0-1.1,0-1.6c3.2,0,6.1,0,9.1,0c0,2.6,0,5.1,0,7.7
          c-1.6-0.1-1.8,0.8-1.8,2.1c0.1,3.9,0,7.7,0,11.6c0,1.7,0.1,1.8,1.8,1.8c5.3,0,10.7,0,16,0c1.7,0,1.8-0.1,1.8-1.8
          c0-18.8,0-37.5,0-56.3c0-1.3-0.4-1.8-1.7-1.8c-4.6,0.1-9.2,0-13.8,0c-1.7,0-1.9,0.1-1.9,1.9c0,5.8,0,11.7,0,17.5c0,0.4,0,0.9,0,1.4
          c-3.2,0-6.3,0-9.5,0C313.3,21.1,313.3,20.5,313.3,20z M227.4,40c0,1.1-0.3,2.2-0.6,3.3c-0.6,2.2-1.3,2.6-3.6,2.4c-0.2,0-0.5,0-0.7,0
          c-2.2,0.3-3.5-0.3-4.2-2.4c-0.6-2-1.1-4.2-1.1-6.3c-0.1-11.5,0-22.9-0.1-34.4c0-1.7-0.2-1.8-1.8-1.8c-4.1,0-8.2,0-12.3,0
          c-1.8,0-1.9,0.1-1.9,1.9c0,10.4,0,20.7,0,31.1c0,3.7-0.1,7.4,0.4,11c1.3,9.7,7.7,15.4,17.4,16c2.4,0.1,4.8,0.1,7.2,0
          c2,0,4.1,0,6-0.4c5.2-1,9.4-3.4,11-8.8c0.7-2.4,0.8-5.1,0.8-7.6c0.1-13.8,0-27.6,0-41.4c0-1.3-0.4-1.8-1.7-1.8
          c-5.4,0.1-10.9,0-16.3,0c-1.2,0-1.6,0.4-1.6,1.6c0,3,0,6.1,0,9.1c0,3,0,3,2.9,3.6C227.4,23.5,227.5,31.7,227.4,40z M574.8,45.8
          c0-2.4,0-2.4-2.4-2.4c-4.4,0-8.8,0-13.2,0c-1.9,0-2.1,0.2-2.1,2.1c0,4.5,0,9,0,13.5c0,1.7,0.1,1.8,1.8,1.8c9.1,0,18.2,0.1,27.3,0.1
          c6.6,0,11.6-3.8,13.1-10.2c0.9-3.7,0.8-7.5,0.2-11.2c-0.9-5.7-3.6-10-9-12.3c-3.5-1.5-7-2.7-10.5-4.1c-1.6-0.6-3.1-1.3-4.6-2.2
          c-1.2-0.7-2-1.8-1.8-3.4c0.2-1.8,1-3.1,2.8-3.4c1.3-0.3,2.6-0.6,3.9-0.6c2.6-0.1,3.1,0.4,3.3,3c0,0.2,0.1,0.5,0.1,0.7
          c0,1.1,0.6,1.6,1.7,1.6c3.5-0.1,7.1-0.1,10.6,0c1.3,0,1.8-0.4,1.8-1.8c-0.1-3.5-0.1-7.1-0.2-10.6c0-3.2-2.3-5.5-5.5-5.5
          c-5.7,0-11.4-0.1-17.1,0c-2.6,0.1-5.2,0.4-7.7,1.1c-4.8,1.3-8.8,3.9-9.8,9.2c-0.5,2.7-0.4,5.6,0,8.4c1,8.8,5.5,14.9,14.1,17.7
          c1.9,0.6,3.9,1.2,5.7,2c1.7,0.7,3.3,1.7,4.8,2.7c1.2,0.8,1,2.1,0.6,3.4c-0.4,1.2-1.4,1.4-2.4,1.4c-1.8,0-3.6,0-5.5,0
          C574.8,46.3,574.8,46,574.8,45.8z M265.6,44.9c0.1-1.1-0.4-1.6-1.5-1.6c-4.9,0-9.8,0-14.6,0c-1,0-1.5,0.4-1.5,1.4
          c0,4.9,0,9.8,0,14.6c0,0.9,0.3,1.3,1.3,1.3c9.6,0,19.1,0.1,28.7,0c5.8-0.1,10.4-3.7,12-9.3c1.2-4,1.1-8.1,0.5-12.2
          c-0.9-6.1-4.1-10.4-10-12.7c-3.5-1.3-7-2.6-10.4-4c-1.3-0.5-2.5-1.1-3.7-1.8c-1.3-0.8-2.1-1.9-1.9-3.6c0.2-1.8,1.1-3,2.9-3.4
          c1.3-0.3,2.7-0.6,4.1-0.6c2.5,0,2.9,0.5,3.1,3c0,0.2,0.1,0.5,0.1,0.7c0,1.2,0.6,1.6,1.8,1.6c3.5-0.1,7,0,10.5,0
          c1.7,0,1.9-0.1,1.8-1.9c0-3.5-0.1-7-0.1-10.5c0-3.1-2.3-5.3-5.5-5.4c-4.7,0-9.5,0-14.2,0c-3.6,0-7.3,0-10.8,1.1
          c-5.1,1.6-9.1,4.4-9.9,10.1c-0.3,2.4-0.1,5,0.1,7.4c1,8.9,5.6,15.1,14.4,17.8c1.9,0.6,3.8,1.2,5.6,2c1.6,0.7,3.2,1.6,4.6,2.6
          c1.2,0.9,1.1,2.2,0.7,3.5c-0.4,1.2-1.4,1.3-2.5,1.3c-1.7,0-3.5,0-5.5,0C265.6,46,265.5,45.4,265.6,44.9z M361.1,43.2
          c-0.1,3.7-0.2,7.6-0.3,11.6c0,1.4-0.1,2.8-0.1,4.1c0,1-0.4,1.5-1.5,1.5c-4.8,0-9.7,0-14.5,0c-1.5,0-1.5-0.9-1.5-1.9
          c0-11.1,0-22.2,0-33.3c0-3.4,0-6.7,0-10.2c-1.6,0-1.6-1-1.6-2.1c0-3.4,0.1-6.9,0-10.3c0-1.2,0.3-1.7,1.6-1.7
          c6.2,0.1,12.3-0.1,18.5,0.1c5,0.1,9.9,1.1,14.3,3.7c6,3.6,9.1,9,9.8,15.8c0.3,3.1,0.4,6.3-0.1,9.3c-1.3,6.9-6,10.8-12.7,12.2
          C369.3,42.7,365.3,42.7,361.1,43.2z M362,15c-0.2,3.9-0.4,7.7-0.5,11.5c0,0.3,0.5,0.9,0.8,0.9c3.6,0.5,7.1-0.5,6.9-5.3
          c0-0.3,0-0.6,0-1C369.4,16.8,366.5,14.3,362,15z M419.9,17c0,13.8,0,27.7,0,41.5c0,1.3,0.3,1.8,1.7,1.8c10.7,0,21.3,0,32,0
          c1.1,0,1.7-0.3,1.7-1.6c0.1-3.9,0.3-7.7,0.4-11.6c0.1-1.6-0.2-1.8-1.8-1.8c-4-0.1-7.9-0.1-11.9-0.3c-1.3-0.1-2.3,0.1-2.4,1.5
          c-1.3,0-2.5,0-3.8,0c0-0.6,0-1.2,0-1.7c0-14.1,0-28.2,0-42.2c0-1.7-0.1-1.8-1.8-1.8c-5.1,0-10.2,0-15.3,0c-1.4,0-1.8,0.5-1.7,1.8
          c0.1,3.2,0,6.3,0,9.5c0,3.2-0.1,2.6,2.8,2.9C419.9,15.7,419.9,16.3,419.9,17z M390.5,46.1c-1,0.1-1.6,0.5-1.6,1.5
          c-0.1,3.5-0.3,7.1-0.3,10.6c0,1.9,0.5,2.3,2.3,2.3c5.6,0,11.1-0.1,16.7-0.2c0.9,0,1.3-0.5,1.3-1.4c0-1.7,0-3.4,0-5.1
          c0-17.1,0-34.1,0-51.2c0-1.7-0.1-1.8-1.8-1.8c-5.1,0-10.1,0-15.2,0c-1.8,0-1.8,0.1-1.8,1.9c0,3.2,0,6.3,0,9.5c0,3.1,0.2,2.6,2.5,2.7
          c0.1,0,0.2,0.1,0.3,0.2c0,10.2,0,20.4,0,30.8C392,45.9,391.2,46,390.5,46.1z M70.7,20.5c0-5.8,0-11.6,0-17.4c0-1-0.1-1.8-1.4-1.8
          c-6.1,0-12.2,0-18.4,0c-1,0-1.4,0.4-1.4,1.4c0,3.8,0,7.5,0,11.3c0,1,0.4,1.4,1.4,1.4c1.2,0,2.5,0,3.8,0c0,0.8,0,1.5,0,2.1
          c0,13.9,0,27.9,0,41.8c0,1.8,0.1,1.9,1.9,1.9c4,0,8,0,12,0c2,0,2.1-0.1,2.1-2.1c0-6.5,0-13,0-19.5c0-0.5,0-1.1,0-1.6
          c3.2,0,6.1,0,9.1,0c0,2.6,0,5.1,0,7.7c-1.6-0.1-1.8,0.8-1.8,2.1c0.1,3.9,0,7.7,0,11.6c0,1.7,0.1,1.8,1.8,1.8c5.3,0,10.7,0,16,0
          c1.7,0,1.8-0.1,1.8-1.8c0-18.8,0-37.5,0-56.3c0-1.3-0.4-1.8-1.7-1.8c-4.6,0.1-9.2,0-13.8,0c-1.7,0-1.9,0.1-1.9,1.9
          c0,5.8,0,11.7,0,17.5c0,0.4,0,0.9,0,1.4c-3.2,0-6.3,0-9.5,0C70.7,21.5,70.7,21,70.7,20.5z M0,13.5c0.2-2.7,0-8.2,0.2-10.8
          c0.2-2.2,0.2-2.2,2.4-2.2c15,0,26.9,0,42,0c2.7,0,2.7,0,2.7,2.6c0,3.5,0,7.1,0,10.6c0,1.9,0,2-2,2c-4.4,0-5.7,0-10.1,0
          c-0.7,0-1.4,0-2.3,0c0,0.6,0,1.1,0,1.6c0,14,0,28.1,0,42.1c0,1.8-0.1,1.9-1.8,1.9c-5.6,0-11.1,0-16.7,0c-1.7,0-1.8-0.1-1.8-1.8
          c0-3.6,0-7.3,0-10.9c0-2.2,0-2.2,2.2-2.2c0.2,0,0.4,0,0.8-0.1c0-10.4,0-20.8,0-31.3c-4.9,0-13.5,0-14.5,0S0,13.5,0,13.5z
          M118.5,16.8c4.4,0,13.2,0,17.7,0c2,0,2,0,2-2c0-3.5,0-7.1,0-10.6c0-2.6,0-2.6-2.7-2.6c-15,0-19.4,0-19.4,0l0,0c-5,0-10,0-15,0
          c-1.4,0-1.8,0.5-1.7,1.8c0.1,3.2,0,6.3,0,9.5c0,3.2-0.1,2.6,2.8,2.9c0,0.7,0,1.4,0,2c0,13.8,0,27.7,0,41.5c0,1.3,0.3,1.8,1.7,1.8
          c10.7,0,21.3,0,32,0c1.1,0,1.7-0.3,1.7-1.6c0.1-3.9,0.3-7.7,0.4-11.6c0.1-1.6-0.2-1.8-1.8-1.8c-4-0.1-7.9-0.1-11.9-0.3
          c-1.3-0.1-2.3,0.1-2.4,1.5c-1.3,0-2.5,0-3.8,0c0-0.6,0-1.2,0-1.7c0-2.7,0-5.3,0-8c0.1,0,0.2,0,0.3,0c4.4,0,8.8,0,13.2,0c2,0,2,0,2-2
          c0-3.5,0-7.1,0-10.6c0-2.6,0-2.6-2.7-2.6c-7.2,0-11,0-12.9,0c0-1.9,0-3.8,0-5.7C118.3,16.8,118.4,16.8,118.5,16.8z"/>
        </svg>

    </a>';
     
 do_action( 'genesis_site_title' );
 do_action( 'genesis_site_description' );
 
 genesis_markup( array(
 'close' => '</div></div>',
 'context' => 'title-area',
 ) );
 if ( ( isset( $wp_registered_sidebars['header-right'] ) && is_active_sidebar( 'header-right' ) ) || has_action( 'genesis_header_right' ) ) {
 genesis_markup( array(
 'open' => '<div %s>' . genesis_sidebar_title( 'header-right' ),
 'context' => 'header-widget-area',
 ) );
 do_action( 'genesis_header_right' );
 add_filter( 'wp_nav_menu_args', 'genesis_header_menu_args' );
 add_filter( 'wp_nav_menu', 'genesis_header_menu_wrap' );
 dynamic_sidebar( 'header-right' );
 remove_filter( 'wp_nav_menu_args', 'genesis_header_menu_args' );
 remove_filter( 'wp_nav_menu', 'genesis_header_menu_wrap' );
 genesis_markup( array(
 'close' => '</div>',
 'context' => 'header-widget-area',
 ) );
 }
}